import data from"../data/data.json"assert{type:"json"};const burgerBtn=document.querySelector(".main_menu .burger_btn"),menuCollapse=document.querySelector(".main_menu .menu_collapse");function onClickBurgerBtn(){burgerBtn.classList.toggle("active"),menuCollapse.classList.toggle("active")}burgerBtn.addEventListener("click",onClickBurgerBtn);const hiddenBoxHeader=document.getElementsByClassName("hidden_box_header")[0],btnPassTest=document.querySelectorAll(".btn_pass_test");let temlpateBasic=document.getElementById("test_template_basic1").innerHTML,itemTemplate=document.getElementById("template_item_radio").innerHTML,resultsProcessingTemplate=document.getElementById("results_processing").innerHTML,resultsReadyTemplate=document.getElementById("results_ready").innerHTML,answerDataTemplate=document.getElementById("template_answer_data").innerHTML,counter=1;const onClickBtnPassTest=e=>{function t(){hiddenBoxHeader.className="hidden_box_header visible_title_nav_test",renderTemplate(temlpateBasic,itemTemplate,data)}/iPhone|iPad|iPod/i.test(navigator.userAgent)?e.addEventListener("touchstart",t):e.addEventListener("click",t)};function foraechVar(e,t){for(let n of e)t(n)}function renderTemplate(e,t,n){let a=document.createElement("div");function o(){a.remove(),renderTemplate(temlpateBasic,t,n)}function r(){++counter,a.className=`question_box question_${counter}`,o()}a.className="question_box",document.body.append(a),counter===n.length+1&&(a.classList.add("results_processing"),a.innerHTML=resultsProcessingTemplate,setTimeout((()=>{counter++,o()}),1e3)),counter===n.length+2&&(a.classList.add("results_ready"),hiddenBoxHeader.className="hidden_box_header visible_title_ready",a.innerHTML=resultsReadyTemplate,timer(a),function(){document.getElementById("call_btn").addEventListener("click",t);const e="https://swapi.dev/api/people/1/";function t(){n(e)}function n(e){fetch(e).then((e=>e.json().then((e=>{o(a,e,answerDataTemplate)}))))}function o(e,t,n){a.classList.add("answer_data"),hiddenBoxHeader.className="hidden_box_header",e.innerHTML=n;for(let n in t)e.innerHTML=`${e.innerHTML.replaceAll(`{{${n}}}`,t[n])}`}}()),n.forEach(((o,i)=>(i===counter-1&&counter!==n.length+2&&counter!==n.length+1&&(function(e,t,n){e.innerHTML=n,Object.keys(t).forEach(((a,o)=>{n.includes(`{{${a}}}`)&&(e.innerHTML=`${e.innerHTML.replaceAll(`{{${a}}}`,t[a])}`)}))}(a,o,e),function(e,t){t.options.forEach(((n,o)=>{let r=document.createElement("div");r.classList.add("item"),r.innerHTML+=e.replaceAll("{{option_text}}",n).replaceAll("{{id}}",t.id).replaceAll("{{index_option}}",o),a.querySelector(".item_box").append(r)}))}(t,o),function(e){e.img&&a.querySelector(".img_question").classList.add("active");if(!e.hiddenText){let e=e=>{e.classList.add("active")};foraechVar(a.querySelectorAll(".text_radio"),e)}e.otherRadio&&(a.querySelector(".item_box").className="select_radio_color item_box")}(o),function(){a.className=`question_box question_${counter}`;let e=a.querySelector(".next_question");e.removeEventListener("click",(()=>r())),e.addEventListener("click",(()=>r())),validationCompletedform(a)}()),!1)))}function validationCompletedform(e){const t=e.querySelector(".next_question");t.disabled=!0;foraechVar(e.querySelectorAll('input[type="radio"]'),(e=>{e.addEventListener("change",(function(n){return e.checked?(t.disabled=!1,!1):e.checked?void 0:(t.disabled=!0,!1)}))}))}function timer(e){const t=document.getElementById("timer_js");let n=600;t.textContent="10:00",setInterval((()=>{const a=n%60==0?"00":n%60;t.textContent=Math.floor(n/60)+":"+a,--n,"0:00"===t.innerText&&(e.remove(),counter=1,hiddenBoxHeader.className="hidden_box_header")}),1e3)}foraechVar(btnPassTest,onClickBtnPassTest);